(()=>{"use strict";var t={810:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,".root{border:3px solid #7b7b7b;border-top:3px solid #fff;border-left:3px solid #fff;background-color:#bdbdbd;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:10px}",""]);const a=u},466:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,'.board{margin-top:10px;border:3px solid #7b7b7b;border-bottom:3px solid #fff;border-right:3px solid #fff;box-sizing:content-box}.board-row{width:100%;height:30px;display:flex}.board-row__cell{width:30px;height:100%;background:url("https://davmedia.test.tech-mail.ru/editor_uploads/2023/02/07/minesweeper-sprites_9TPZzv3.png") no-repeat;background-size:278px 168px;background-position:0 -102px}.board-row__cell_0{background-position:-34px -102px}.board-row__cell_1{background-position:0 -136px}.board-row__cell_2{background-position:-34px -136px}.board-row__cell_3{background-position:-68px -136px}.board-row__cell_4{background-position:-102px -136px}.board-row__cell_5{background-position:-136px -136px}.board-row__cell_6{background-position:-170px -136px}.board-row__cell_7{background-position:-204px -136px}.board-row__cell_8{background-position:-238px -136px}.board-row__cell_9{background-position:-170px -102px}.board-row__cell_10{background-position:-204px -102px}.board-row__cell_11{background-position:-238px -102px}.board-row__cell_flag{background-position:-68px -102px}.board-row__cell_question{background-position:-102px -102px}.board-row__cell_question-pressed{background-position:-136px -102px}',""]);const a=u},693:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,".header{width:100%;height:60px;border:3px solid #7b7b7b;border-bottom:3px solid #fff;border-right:3px solid #fff;display:flex;align-items:center;justify-content:space-around}",""]);const a=u},361:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,'.display{display:flex}.digit{width:24px;height:44px;background:url("https://davmedia.test.tech-mail.ru/editor_uploads/2023/02/07/minesweeper-sprites_9TPZzv3.png") no-repeat;background-size:278px 168px}.digit_1{background-position:0px 0}.digit_2{background-position:-28px 0}.digit_3{background-position:-56px 0}.digit_4{background-position:-84px 0}.digit_5{background-position:-112px 0}.digit_6{background-position:-140px 0}.digit_7{background-position:-168px 0}.digit_8{background-position:-196px 0}.digit_9{background-position:-224px 0}.digit_0{background-position:-252px 0}',""]);const a=u},272:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,'.smile{width:50px;height:50px;background:url("https://davmedia.test.tech-mail.ru/editor_uploads/2023/02/07/minesweeper-sprites_9TPZzv3.png") no-repeat;background-size:278px 168px}.smile_normal{background-position:0px -48px}.smile_pressed{background-position:-54px -48px}.smile_waiting{background-position:-108px -48px}.smile_win{background-position:-162px -48px}.smile_lose{background-position:-216px -48px}',""]);const a=u},192:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,"*{box-sizing:border-box}body{padding:0;margin:0;min-width:560px}.wrapper{width:100%;min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#eee}",""]);const a=u},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var u={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(u[c]=!0)}for(var l=0;l<t.length;l++){var s=[].concat(t[l]);n&&u[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),r&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=r):s[2]=r),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),e.push(s))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},u=[],a=0;a<t.length;a++){var c=t[a],l=n.base?c[0]+n.base:c[0],s=i[l]||0,f="".concat(l," ").concat(s);i[l]=s+1;var p=r(f),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var y=o(d,n);n.byIndex=a,e.splice(a,0,{identifier:f,updater:y,references:1})}u.push(f)}return u}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var i=n(t=t||[],o=o||{});return function(t){t=t||[];for(var u=0;u<i.length;u++){var a=r(i[u]);e[a].references--}for(var c=n(t,o),l=0;l<i.length;l++){var s=r(i[l]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}i=c}}},569:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,(()=>{var t=r(379),e=r.n(t),n=r(795),o=r.n(n),i=r(569),u=r.n(i),a=r(565),c=r.n(a),l=r(216),s=r.n(l),f=r(589),p=r.n(f),d=r(192),y={};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(o)?o:String(o)),n)}var o}function h(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}y.styleTagTransform=p(),y.setAttributes=c(),y.insert=u().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=s(),e()(d.Z,y),d.Z&&d.Z.locals&&d.Z.locals;var m=new WeakMap,g=function(){function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=this,r=m),r.set(e,n)}var e,r;return e=t,(r=[{key:"on",value:function(t,e){h(this,m)[t]=h(this,m)[t]||new Set,h(this,m)[t].add(e)}},{key:"unsubscribe",value:function(t,e){h(this,m)[t]&&h(this,m)[t].delete(e)}},{key:"emit",value:function(t,e){h(this,m)[t]&&h(this,m)[t].forEach((function(t){return t(e)}))}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),w="pick",_="r_pick",O="restart",j="boardUpdated",E="flagsCountChanged",S="smileUpdated",P="win",x="lose";function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return(e=Z(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z(n.key),n)}}function Z(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===k(e)?e:String(e)}function I(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function D(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,z(t,e,"get"))}function B(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,z(t,e,"set"),r),r}function z(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var N=new WeakMap,U=new WeakMap,X=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,N,{writable:!0,value:void 0}),I(this,U,{writable:!0,value:void 0}),this._eventEmitter=e,B(this,U,r),this.setInitialState(),this.bindEvents()}var e,r;return e=t,(r=[{key:"setInitialState",value:function(){var t=this;B(this,N,A(A({},D(this,U)),{},{mines:null,flags:new Array(D(this,U).fieldY).fill(0).map((function(){return new Array(D(t,U).fieldX).fill(0)})),opened:new Array(D(this,U).fieldY).fill(0).map((function(){return new Array(D(t,U).fieldX).fill(!1)})),flagsCount:0}))}},{key:"bindEvents",value:function(){var t=this;this._eventEmitter.on(w,this.handlePick.bind(this)),this._eventEmitter.on(_,this.handleRightClick.bind(this)),this._eventEmitter.on(O,(function(){t.setInitialState(),t._eventEmitter.emit(j,D(t,N))}))}},{key:"handlePick",value:function(t){if(D(this,N).mines||this.spawnMines(t),9===D(this,N).mines[t[0]][t[1]]){for(var e=0;e<D(this,N).fieldY;e++)for(var r=0;r<D(this,N).fieldX;r++)9===D(this,N).mines[e][r]?(D(this,N).flags[e][r]=0,D(this,N).opened[e][r]=!0):1===D(this,N).flags[e][r]&&(D(this,N).flags[e][r]=0,D(this,N).opened[e][r]=!0,D(this,N).mines[e][r]=11,console.log(D(this,N).mines));D(this,N).mines[t[0]][t[1]]=10,this._eventEmitter.emit(x)}else this._eventEmitter.emit(S,"normal"),this.openField(t);this._eventEmitter.emit(j,D(this,N))}},{key:"handleRightClick",value:function(t){var e=T(t,2),r=e[0],n=e[1];if(!(D(this,N).opened&&D(this,N).opened[r][n]||D(this,N).flagsCount===D(this,N).minesCount&&0===D(this,N).flags[r][n])){switch(D(this,N).flags[r][n]=(D(this,N).flags[r][n]+1)%3,D(this,N).flags[r][n]){case 1:D(this,N).flagsCount+=1;break;case 2:D(this,N).flagsCount-=1}this._eventEmitter.emit(E,D(this,N).minesCount-D(this,N).flagsCount),D(this,N).flagsCount===D(this,N).minesCount&&this.checkWin(),this._eventEmitter.emit(j,D(this,N))}}},{key:"checkWin",value:function(){var t=D(this,N).mines,e=D(this,N).flags;if(t){for(var r=0;r<t.length;r++)for(var n=0;n<t[0].length;n++)if(9===t[r][n]&&1!==e[r][n])return;this._eventEmitter.emit(P)}}},{key:"getNeighbors",value:function(t){for(var e=[],r=Math.max(t[0]-1,0);r<=Math.min(t[0]+1,D(this,N).fieldY-1);r++)for(var n=Math.max(t[1]-1,0);n<=Math.min(t[1]+1,D(this,N).fieldX-1);n++)t[0]===r&&t[1]===n||e.push([r,n]);return e}},{key:"openField",value:function(t){var e=this,r=T(t,2),n=r[0],o=r[1];!0!==D(this,N).opened[n][o]&&0===D(this,N).flags[n][o]&&(D(this,N).opened[n][o]=!0,0===D(this,N).mines[n][o]&&this.getNeighbors(t).forEach((function(t){return e.openField(t)})))}},{key:"spawnMines",value:function(t){var e=this,r=D(this,N).fieldX,n=D(this,N).fieldY;D(this,N).mines=new Array(D(this,N).fieldY).fill(n).map((function(){return new Array(D(e,N).fieldX).fill(r)}));var o=D(this,N).mines;new Array(r*n).fill(0).map((function(t,e){return e})).filter((function(e){return e!==t[0]*r+t[1]})).sort((function(){return Math.random()-.5})).slice(0,D(this,N).minesCount).map((function(t){o[Math.floor(t/r)][Math.floor(t%r)]=9}));for(var i=0;i<n;i++)for(var u=0;u<r;u++)9!==o[i][u]&&(o[i][u]=this.getNeighbors([i,u]).map((function(t){var e=T(t,2),r=e[0],n=e[1];return o[r][n]})).filter((function(t){return 9===t})).length)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F(n.key),n)}}function W(t,e,r){return(e=F(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F(t){var e=function(t,e){if("object"!==Y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Y(e)?e:String(e)}var H=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,"_eventEmitter",void 0),W(this,"_root",void 0),this._root=e,this._eventEmitter=r,this.bindEvents()}var e,r;return e=t,(r=[{key:"bindEvents",value:function(){}},{key:"render",value:function(t){}}])&&q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),$=r(466),J={};function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==G(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===G(o)?o:String(o)),n)}var o}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}J.styleTagTransform=p(),J.setAttributes=c(),J.insert=u().bind(null,"head"),J.domAPI=o(),J.insertStyleElement=s(),e()($.Z,J),$.Z&&$.Z.locals&&$.Z.locals;var et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tt(n);if(o){var r=tt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).render(r),n}return e=u,(r=[{key:"bindEvents",value:function(){this._eventEmitter.on(j,this.render.bind(this)),this._eventEmitter.on(P,this.preventClicks.bind(this)),this._eventEmitter.on(x,this.preventClicks.bind(this)),this._eventEmitter.on(O,this.allowClicks.bind(this))}},{key:"stopCLickPropogation",value:function(t){t.stopPropagation()}},{key:"preventClicks",value:function(){this._root.addEventListener("mouseup",this.stopCLickPropogation,!0),this._root.addEventListener("mousedown",this.stopCLickPropogation,!0)}},{key:"allowClicks",value:function(){this._root.removeEventListener("mouseup",this.stopCLickPropogation,!0),this._root.removeEventListener("mousedown",this.stopCLickPropogation,!0)}},{key:"handleMouseDown",value:function(t,e,r){switch(t.button){case 0:0!==e||r||this._eventEmitter.emit(S,"waiting");break;case 2:0!==e&&t.target.classList.add("board-row__cell_question-pressed")}}},{key:"handleMouseUp",value:function(t,e){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=r[0],o=r[1];switch(t.button){case 0:this._eventEmitter.emit(w,[n,o]);break;case 2:this._eventEmitter.emit(_,[n,o])}}},{key:"render",value:function(t){var e=this,r=t.fieldY,n=t.fieldX;this._root.innerHTML="";var o=document.createElement("div");o.classList.add("board");for(var i=function(r){var i=document.createElement("div");i.classList.add("board-row");for(var u=function(n){var o=document.createElement("div");if(o.addEventListener("contextmenu",(function(t){return t.preventDefault()})),o.addEventListener("mousedown",(function(o){e.handleMouseDown(o,t.flags?t.flags[r][n]:0,!!t.opened&&t.opened[r][n])})),o.addEventListener("mouseup",(function(t){return e.handleMouseUp(t,[r,n])})),o.classList.add("board-row__cell"),t.opened&&t.opened[r][n]&&o.classList.add("board-row__cell_".concat(t.mines[r][n])),t.flags)switch(t.flags[r][n]){case 1:o.classList.add("board-row__cell_flag");break;case 2:o.classList.add("board-row__cell_question")}i.appendChild(o)},a=0;a<n;a++)u(a);o.appendChild(i)},u=0;u<r;u++)i(u);this._root.appendChild(o)}}])&&Q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H),rt=r(361),nt={};function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ot(o)?o:String(o)),n)}var o}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}nt.styleTagTransform=p(),nt.setAttributes=c(),nt.insert=u().bind(null,"head"),nt.domAPI=o(),nt.insertStyleElement=s(),e()(rt.Z,nt),rt.Z&&rt.Z.locals&&rt.Z.locals;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(n);if(o){var r=at(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return e=u,r=[{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._root.innerHTML="",this._root.classList.add("display");for(var e=0;e<3;e++){var r=Math.floor(t/Math.pow(10,2-e))%10,n=document.createElement("div");n.classList.add("digit","digit_".concat(r)),this._root.appendChild(n)}}}],r&&it(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==lt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===lt(o)?o:String(o)),n)}var o}function ft(t,e){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ft(t,e)}function pt(t){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pt(t)}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ft(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pt(n);if(o){var r=pt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).display=new ct(n._root),n.minesCount=r.minesCount,n.render(n.minesCount),n}return e=u,(r=[{key:"render",value:function(t){this.display.render(t)}},{key:"bindEvents",value:function(){var t=this;this._eventEmitter.on(E,(function(e){t.render(e)})),this._eventEmitter.on(O,(function(){return t.render(t.minesCount)}))}}])&&st(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H),yt=r(272),bt={};function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==vt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===vt(o)?o:String(o)),n)}var o}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}bt.styleTagTransform=p(),bt.setAttributes=c(),bt.insert=u().bind(null,"head"),bt.domAPI=o(),bt.insertStyleElement=s(),e()(yt.Z,bt),yt.Z&&yt.Z.locals&&yt.Z.locals;var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gt(n);if(o){var r=gt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,e)).render("normal"),r}return e=u,(r=[{key:"render",value:function(t){this._root.innerHTML="";var e=document.createElement("div");e.classList.add("smile","smile_".concat(t)),this._root.appendChild(e)}},{key:"bindEvents",value:function(){var t=this;this._root.addEventListener("mousedown",(function(){t.render("pressed")})),this._root.addEventListener("mouseup",(function(){t.render("normal"),t._eventEmitter.emit(O)})),this._eventEmitter.on(P,(function(){return t.render("win")})),this._eventEmitter.on(x,(function(){return t.render("lose")})),this._eventEmitter.on(S,(function(e){return t.render(e)}))}}])&&ht(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H);function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===_t(o)?o:String(o)),n)}var o}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function Pt(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,kt(t,e,"set"),r),r}function xt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,kt(t,e,"get"))}function kt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Tt=new WeakMap,Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(n);if(o){var r=St(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Et(t)}(this,t)});function u(t,e){var r,n,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=Et(r=i.call(this,t,e)),a={writable:!0,value:0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n,o=Tt),o.set(n,a),r.display=new ct(r._root),r.render(0),r.start(),r}return e=u,(r=[{key:"render",value:function(t){this.display.render(t)}},{key:"start",value:function(){var t=this;this.int=setInterval((function(){Pt(t,Tt,xt(t,Tt)+1),t.render(xt(t,Tt))}),1e3)}},{key:"stop",value:function(){clearInterval(this.int),Pt(this,Tt,0)}},{key:"bindEvents",value:function(){var t=this;this._eventEmitter.on(P,(function(){return t.stop()})),this._eventEmitter.on(x,(function(){return t.stop()})),this._eventEmitter.on(O,(function(){t.stop(),t.render(0),t.start()}))}}])&&Ot(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H),Rt=r(693),At={};function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Mt(o)?o:String(o)),n)}var o}function Zt(t,e){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zt(t,e)}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},It(t)}At.styleTagTransform=p(),At.setAttributes=c(),At.insert=u().bind(null,"head"),At.domAPI=o(),At.insertStyleElement=s(),e()(Rt.Z,At),Rt.Z&&Rt.Z.locals&&Rt.Z.locals;var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=It(n);if(o){var r=It(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).render(r),n}return e=u,(r=[{key:"render",value:function(t){var e=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div");new dt(e,this._eventEmitter,t),new wt(r,this._eventEmitter),new Ct(n,this._eventEmitter),this._root.appendChild(e),this._root.appendChild(r),this._root.appendChild(n)}}])&&Lt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H);function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Bt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Bt(o)?o:String(o)),n)}var o}function Nt(t,e){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nt(t,e)}function Ut(t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ut(t)}var Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ut(n);if(o){var r=Ut(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).render(r),n}return e=u,(r=[{key:"render",value:function(t){var e=document.createElement("header");e.classList.add("header"),this._root.appendChild(e),this.header=new Dt(e,this._eventEmitter,{minesCount:t.minesCount});var r=document.createElement("div");this.board=new et(r,this._eventEmitter,t),this._root.appendChild(r)}}])&&zt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(H),Yt=r(810),qt={};function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Wt(o)?o:String(o)),n)}var o}function Ht(t,e,r){return e&&Ft(t.prototype,e),r&&Ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}qt.styleTagTransform=p(),qt.setAttributes=c(),qt.insert=u().bind(null,"head"),qt.domAPI=o(),qt.insertStyleElement=s(),e()(Yt.Z,qt),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var $t=Ht((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventEmitter=new g,this.dataModel=new X(this.eventEmitter,e),this.view=new Xt(e.rootNode,this.eventEmitter,e)}));document.addEventListener("DOMContentLoaded",(function(){new $t({rootNode:document.querySelector(".root"),fieldX:16,fieldY:16,minesCount:40})}))})()})();