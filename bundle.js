(()=>{"use strict";var t={810:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,".root{width:280px;height:350px;border:3px solid #7b7b7b;border-top:3px solid #fff;border-left:3px solid #fff;background-color:#bdbdbd;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:20px;transform:scale(2, 2)}",""]);const a=u},466:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,'.board{width:240px;height:240px;margin-top:10px;border:3px solid #7b7b7b;border-bottom:3px solid #fff;border-right:3px solid #fff;box-sizing:content-box}.board-row{width:100%;height:15px;display:flex}.board-row__cell{width:15px;height:100%;background:url("https://davmedia.test.tech-mail.ru/editor_uploads/2023/02/07/minesweeper-sprites_9TPZzv3.png") no-repeat;background-position:0 -51px}.board-row__cell_0{background-position:-17px -51px}.board-row__cell_1{background-position:0 -68px}.board-row__cell_2{background-position:-17px -68px}.board-row__cell_3{background-position:-34px -68px}.board-row__cell_4{background-position:-51px -68px}.board-row__cell_5{background-position:-68px -68px}.board-row__cell_6{background-position:-85px -68px}.board-row__cell_7{background-position:-102px -68px}.board-row__cell_8{background-position:-119px -68px}.board-row__cell_9{background-position:-85px -51px}.board-row__cell_10{background-position:-102px -51px}.board-row__cell_11{background-position:-119px -51px}.board-row__cell_flag{background-position:-34px -51px}.board-row__cell_question{background-position:-51px -51px}.board-row__cell_question-pressed{background-position:-68px -51px}',""]);const a=u},693:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,".header{width:240px;height:35px;border:3px solid #7b7b7b;border-bottom:3px solid #fff;border-right:3px solid #fff;box-sizing:content-box;display:flex;align-items:center;justify-content:space-around}",""]);const a=u},361:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,'.display{display:flex}.digit{width:12px;height:22px;background:url("https://davmedia.test.tech-mail.ru/editor_uploads/2023/02/07/minesweeper-sprites_9TPZzv3.png") no-repeat}.digit_1{background-position:0px 0}.digit_2{background-position:-14px 0}.digit_3{background-position:-28px 0}.digit_4{background-position:-42px 0}.digit_5{background-position:-56px 0}.digit_6{background-position:-70px 0}.digit_7{background-position:-84px 0}.digit_8{background-position:-98px 0}.digit_9{background-position:-112px 0}.digit_0{background-position:-126px 0}',""]);const a=u},272:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,'.smile{width:25px;height:25px;background:url("https://davmedia.test.tech-mail.ru/editor_uploads/2023/02/07/minesweeper-sprites_9TPZzv3.png") no-repeat}.smile_normal{background-position:0px -24px}.smile_pressed{background-position:-27px -24px}.smile_waiting{background-position:-54px -24px}.smile_win{background-position:-81px -24px}.smile_lose{background-position:-108px -24px}',""]);const a=u},192:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(81),o=r.n(n),i=r(645),u=r.n(i)()(o());u.push([t.id,"*{box-sizing:border-box}body{padding:0;margin:0;min-width:560px}.wrapper{width:100%;min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#eee}",""]);const a=u},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var u={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(u[c]=!0)}for(var l=0;l<t.length;l++){var s=[].concat(t[l]);n&&u[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),r&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=r):s[2]=r),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),e.push(s))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},u=[],a=0;a<t.length;a++){var c=t[a],l=n.base?c[0]+n.base:c[0],s=i[l]||0,f="".concat(l," ").concat(s);i[l]=s+1;var p=r(f),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var y=o(d,n);n.byIndex=a,e.splice(a,0,{identifier:f,updater:y,references:1})}u.push(f)}return u}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var i=n(t=t||[],o=o||{});return function(t){t=t||[];for(var u=0;u<i.length;u++){var a=r(i[u]);e[a].references--}for(var c=n(t,o),l=0;l<i.length;l++){var s=r(i[l]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}i=c}}},569:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,(()=>{var t=r(379),e=r.n(t),n=r(795),o=r.n(n),i=r(569),u=r.n(i),a=r(565),c=r.n(a),l=r(216),s=r.n(l),f=r(589),p=r.n(f),d=r(192),y={};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(o)?o:String(o)),n)}var o}function v(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}y.styleTagTransform=p(),y.setAttributes=c(),y.insert=u().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=s(),e()(d.Z,y),d.Z&&d.Z.locals&&d.Z.locals;var m=new WeakMap,g=function(){function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=this,r=m),r.set(e,n)}var e,r;return e=t,(r=[{key:"on",value:function(t,e){v(this,m)[t]=v(this,m)[t]||new Set,v(this,m)[t].add(e)}},{key:"unsubscribe",value:function(t,e){v(this,m)[t]&&v(this,m)[t].delete(e)}},{key:"emit",value:function(t,e){v(this,m)[t]&&v(this,m)[t].forEach((function(t){return t(e)}))}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===w(o)?o:String(o)),n)}var o}function O(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,x(t,e,"get"))}function S(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,x(t,e,"set"),r),r}function x(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var P=new WeakMap,k=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o={writable:!0,value:void 0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=P),n.set(r,o),this._eventEmitter=e,S(this,P,{}),this.minesCount=40,this.bindEvents()}var e,r;return e=t,(r=[{key:"bindEvents",value:function(){var t=this;this._eventEmitter.on("pick",this.handlePick.bind(this)),this._eventEmitter.on("r_pick",this.handleRightClick.bind(this)),this._eventEmitter.on("restart",(function(){S(t,P,{}),t._eventEmitter.emit("boardUpdated")})),this._eventEmitter.on("mousedown",(function(){t._eventEmitter.emit("waiting")}))}},{key:"handlePick",value:function(t){if(O(this,P).mines||this.generateInitialState(t),9===O(this,P).mines[t[0]][t[1]]){for(var e=0;e<16;e++)for(var r=0;r<16;r++)9===O(this,P).mines[e][r]?O(this,P).opened[e][r]=!0:1===O(this,P).flags[e][r]&&(O(this,P).flags[e][r]=0,O(this,P).opened[e][r]=!0,O(this,P).mines[e][r]=11,console.log(O(this,P).mines));O(this,P).mines[t[0]][t[1]]=10,this._eventEmitter.emit("lose")}else this._eventEmitter.emit("game_continue"),this.openField(t);this._eventEmitter.emit("boardUpdated",O(this,P))}},{key:"handleRightClick",value:function(t){O(this,P).flags=O(this,P).flags||new Array(16).fill(0).map((function(){return new Array(16).fill(0)})),O(this,P).flagsCount=O(this,P).flagsCount||0;var e=_(t,2),r=e[0],n=e[1];if(!(O(this,P).opened&&O(this,P).opened[r][n]||O(this,P).flagsCount===this.minesCount&&0===O(this,P).flags[r][n])){switch(O(this,P).flags[r][n]=(O(this,P).flags[r][n]+1)%3,O(this,P).flags[r][n]){case 1:O(this,P).flagsCount+=1;break;case 2:O(this,P).flagsCount-=1}this._eventEmitter.emit("flagsCountChanged",this.minesCount-O(this,P).flagsCount),O(this,P).flagsCount===this.minesCount&&this.checkWin(),this._eventEmitter.emit("boardUpdated",O(this,P))}}},{key:"checkWin",value:function(){for(var t=O(this,P).mines,e=O(this,P).flags,r=0;r<t.length;r++)for(var n=0;n<t[0].length;n++)if(9===t[r][n]&&1!==e[r][n])return;this._eventEmitter.emit("win")}},{key:"getNeighbors",value:function(t){for(var e=[],r=Math.max(t[0]-1,0);r<=Math.min(t[0]+1,15);r++)for(var n=Math.max(t[1]-1,0);n<=Math.min(t[1]+1,15);n++)t[0]===r&&t[1]===n||e.push([r,n]);return e}},{key:"openField",value:function(t){var e=this,r=_(t,2),n=r[0],o=r[1];!0!==O(this,P).opened[n][o]&&0===O(this,P).flags[n][o]&&(O(this,P).opened[n][o]=!0,0===O(this,P).mines[n][o]&&this.getNeighbors(t).forEach((function(t){return e.openField(t)})))}},{key:"generateInitialState",value:function(t){O(this,P).mines=new Array(16).fill(0).map((function(){return new Array(16).fill(0)}));var e=O(this,P).mines;new Array(256).fill(0).map((function(t,e){return e})).filter((function(e){return e!==16*t[0]+t[1]})).sort((function(){return Math.random()-.5})).slice(0,this.minesCount).map((function(t){e[Math.floor(t/16)][Math.floor(t%16)]=9}));for(var r=0;r<e.length;r++)for(var n=0;n<e[0].length;n++)9!==e[r][n]&&(e[r][n]=this.getNeighbors([r,n]).map((function(t){var r=_(t,2),n=r[0],o=r[1];return e[n][o]})).filter((function(t){return 9===t})).length);O(this,P).opened=new Array(16).fill(0).map((function(){return new Array(16).fill(!1)})),O(this,P).flags=O(this,P).flags||new Array(16).fill(0).map((function(){return new Array(16).fill(0)}))}}])&&j(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function R(t,e,r){return(e=A(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){var e=function(t,e){if("object"!==T(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===T(e)?e:String(e)}var Z=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,"_eventEmitter",void 0),R(this,"_root",void 0),this._root=e,this._eventEmitter=r,this.bindEvents()}var e,r;return e=t,(r=[{key:"bindEvents",value:function(){}},{key:"render",value:function(t){}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),L=r(466),M={};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==I(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===I(o)?o:String(o)),n)}var o}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}M.styleTagTransform=p(),M.setAttributes=c(),M.insert=u().bind(null,"head"),M.domAPI=o(),M.insertStyleElement=s(),e()(L.Z,M),L.Z&&L.Z.locals&&L.Z.locals;var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(n);if(o){var r=z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,e)).render(),r}return e=u,(r=[{key:"bindEvents",value:function(){this._eventEmitter.on("boardUpdated",this.render.bind(this)),this._eventEmitter.on("win",this.preventClicks.bind(this)),this._eventEmitter.on("lose",this.preventClicks.bind(this)),this._eventEmitter.on("restart",this.allowClicks.bind(this))}},{key:"stopCLickPropogation",value:function(t){t.stopPropagation()}},{key:"preventClicks",value:function(){this._root.addEventListener("mouseup",this.stopCLickPropogation,!0),this._root.addEventListener("mousedown",this.stopCLickPropogation,!0)}},{key:"allowClicks",value:function(){this._root.removeEventListener("mouseup",this.stopCLickPropogation,!0),this._root.removeEventListener("mousedown",this.stopCLickPropogation,!0)}},{key:"handleMouseDown",value:function(t,e){switch(t.button){case 0:this._eventEmitter.emit("mousedown");break;case 2:0!==e&&t.target.classList.add("board-row__cell_question-pressed")}}},{key:"handleMouseUp",value:function(t,e){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=r[0],o=r[1];switch(t.button){case 0:this._eventEmitter.emit("pick",[n,o]);break;case 2:this._eventEmitter.emit("r_pick",[n,o])}}},{key:"render",value:function(t){var e=this;this._root.innerHTML="";var r=document.createElement("div");r.classList.add("board");for(var n=function(n){var o=document.createElement("div");o.classList.add("board-row");for(var i=function(r){var i=document.createElement("div");if(i.addEventListener("contextmenu",(function(t){return t.preventDefault()})),i.addEventListener("mousedown",(function(o){return e.handleMouseDown(o,t.flags[n][r])})),i.addEventListener("mouseup",(function(t){return e.handleMouseUp(t,[n,r])})),i.classList.add("board-row__cell"),t)switch(t.opened&&t.opened[n][r]&&i.classList.add("board-row__cell_".concat(t.mines[n][r])),t.flags[n][r]){case 1:i.classList.add("board-row__cell_flag");break;case 2:i.classList.add("board-row__cell_question")}o.appendChild(i)},u=0;u<16;u++)i(u);r.appendChild(o)},o=0;o<16;o++)n(o);this._root.appendChild(r)}}])&&D(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Z),N=r(361),F={};function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==H(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===H(o)?o:String(o)),n)}var o}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}F.styleTagTransform=p(),F.setAttributes=c(),F.insert=u().bind(null,"head"),F.domAPI=o(),F.insertStyleElement=s(),e()(N.Z,F),N.Z&&N.Z.locals&&N.Z.locals;var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(n);if(o){var r=J(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return e=u,r=[{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._root.innerHTML="",this._root.classList.add("display");for(var e=0;e<3;e++){var r=Math.floor(t/Math.pow(10,2-e))%10,n=document.createElement("div");n.classList.add("digit","digit_".concat(r)),this._root.appendChild(n)}}}],r&&W(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Z);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==K(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===K(o)?o:String(o)),n)}var o}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(n);if(o){var r=X(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,e)).display=new G(r._root),r.minesCount=40,r.render(r.minesCount),r}return e=u,(r=[{key:"render",value:function(t){this.display.render(t)}},{key:"bindEvents",value:function(){var t=this;this._eventEmitter.on("flagsCountChanged",(function(e){t.render(e)})),this._eventEmitter.on("restart",(function(){return t.render(t.minesCount)}))}}])&&Q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Z),tt=r(272),et={};function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===rt(o)?o:String(o)),n)}var o}function ot(t,e){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ot(t,e)}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}et.styleTagTransform=p(),et.setAttributes=c(),et.insert=u().bind(null,"head"),et.domAPI=o(),et.insertStyleElement=s(),e()(tt.Z,et),tt.Z&&tt.Z.locals&&tt.Z.locals;var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=it(n);if(o){var r=it(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,e)).render("normal"),r}return e=u,(r=[{key:"render",value:function(t){this._root.innerHTML="";var e=document.createElement("div");e.classList.add("smile","smile_".concat(t)),this._root.appendChild(e)}},{key:"bindEvents",value:function(){var t=this;this._root.addEventListener("mousedown",(function(){t.render("pressed")})),this._root.addEventListener("mouseup",(function(){t.render("normal"),t._eventEmitter.emit("restart")})),this._eventEmitter.on("win",(function(){return t.render("win")})),this._eventEmitter.on("lose",(function(){return t.render("lose")})),this._eventEmitter.on("waiting",(function(){return t.render("waiting")})),this._eventEmitter.on("game_continue",(function(){return t.render("normal")}))}}])&&nt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Z);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==at(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===at(o)?o:String(o)),n)}var o}function lt(t,e){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lt(t,e)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ft(t)}function pt(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,yt(t,e,"set"),r),r}function dt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,yt(t,e,"get"))}function yt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var bt=new WeakMap,ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ft(n);if(o){var r=ft(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return st(t)}(this,t)});function u(t,e){var r,n,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=st(r=i.call(this,t,e)),a={writable:!0,value:0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n,o=bt),o.set(n,a),r.display=new G(r._root),r.render(0),r.start(),r}return e=u,(r=[{key:"render",value:function(t){this.display.render(t)}},{key:"start",value:function(){var t=this;this.int=setInterval((function(){pt(t,bt,dt(t,bt)+1),t.render(dt(t,bt))}),1e3)}},{key:"stop",value:function(){clearInterval(this.int),pt(this,bt,0)}},{key:"bindEvents",value:function(){var t=this;this._eventEmitter.on("win",(function(){return t.stop()})),this._eventEmitter.on("lose",(function(){return t.stop()})),this._eventEmitter.on("restart",(function(){t.stop(),t.render(0),t.start()}))}}])&&ct(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Z),vt=r(693),mt={};function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===gt(o)?o:String(o)),n)}var o}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(t)}mt.styleTagTransform=p(),mt.setAttributes=c(),mt.insert=u().bind(null,"head"),mt.domAPI=o(),mt.insertStyleElement=s(),e()(vt.Z,mt),vt.Z&&vt.Z.locals&&vt.Z.locals;var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Et(n);if(o){var r=Et(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,e)).render(),r}return e=u,(r=[{key:"render",value:function(){var t=document.createElement("div"),e=document.createElement("div"),r=document.createElement("div");new Y(t,this._eventEmitter),new ut(e,this._eventEmitter),new ht(r,this._eventEmitter),this._root.appendChild(t),this._root.appendChild(e),this._root.appendChild(r)}}])&&wt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Z);function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function St(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ot(o)?o:String(o)),n)}var o}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xt(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pt(n);if(o){var r=Pt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,e)).render(),r}return e=u,(r=[{key:"render",value:function(){this.header=new jt(document.querySelector(".header"),this._eventEmitter);var t=document.createElement("div");this.board=new q(t,this._eventEmitter),this._root.appendChild(t)}}])&&St(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Z),Tt=r(810),Ct={};function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Rt(o)?o:String(o)),n)}var o}function Zt(t,e,r){return e&&At(t.prototype,e),r&&At(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}Ct.styleTagTransform=p(),Ct.setAttributes=c(),Ct.insert=u().bind(null,"head"),Ct.domAPI=o(),Ct.insertStyleElement=s(),e()(Tt.Z,Ct),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;var Lt=Zt((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventEmitter=new g,this.dataModel=new k(this.eventEmitter),this.view=new kt(document.querySelector(".root"),this.eventEmitter)}));document.addEventListener("DOMContentLoaded",(function(){new Lt}))})()})();